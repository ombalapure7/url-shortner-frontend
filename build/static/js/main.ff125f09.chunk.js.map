{"version":3,"sources":["components/Login.js","components/Register.js","components/ForgotPassword.js","components/ResetPassword.js","components/Urls.js","App.js","context.js","index.js"],"names":["Login","useState","warning","setWarning","emailRef","useRef","passwordRef","navigate","useNavigate","loginDetails","event","a","preventDefault","current","value","user","email","password","axios","post","response","localStorage","setItem","JSON","stringify","data","replace","className","style","border","padding","margin","borderRadius","htmlFor","type","id","ref","to","color","fontWeight","borderStyle","backgroundColor","onClick","role","Register","success","setSuccess","nameRef","signupDetails","name","localStorageObj","token","activated","boxSizing","ForgotPassword","forgotPasswordDetails","patch","marginTop","placeholder","ResetPassword","params","useParams","resetPassword","url","Urls","urls","setUrls","updateInfo","setUpdateInfo","urlRef","setUser","getItem","long","getUrlData","get","length","useEffect","parse","getUserName","textAlign","scope","map","href","getUrl","short","clicks","_id","split","removeItem","App","fontSize","textDecoration","path","element","getUrls","AppContext","React","createContext","AppProvider","children","urlData","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ff125f09.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { useNavigate } from \"react-router\";\r\nimport { useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// const url = \"http://localhost:5000/api/v1/auth/login\";\r\nconst url = \"https://guvi-task-session-38.herokuapp.com/api/v1/auth/login\";\r\n\r\nfunction Login() {\r\n  const [warning, setWarning] = useState(\"\");\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n\r\n  const navigate = useNavigate();\r\n  const navigateToUrls = () => navigate(\"/urls\", { replace: true });\r\n\r\n  /**\r\n   * @desc Login function\r\n   * @param {*} event \r\n   * @returns \r\n   */\r\n  const loginDetails = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (emailRef.current.value === \"\" || passwordRef.current.value === \"\") {\r\n      setWarning(\"Email and password are mandatory!\");\r\n      return;\r\n    }\r\n\r\n    setWarning(\"\");\r\n\r\n    const user = {\r\n      email: emailRef.current.value,\r\n      password: passwordRef.current.value,\r\n    };\r\n\r\n    try {\r\n      const response = await axios.post(`${url}`, user);\r\n      localStorage.setItem('url_shortner', JSON.stringify(response.data));\r\n      navigateToUrls();\r\n    } catch (error) {\r\n      setWarning(\"User may not exist or the account has not been verified!\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container d-flex justify-content-center flex-wrap flex-column\">\r\n      <div\r\n        style={{\r\n          border: \"1px solid lightgray\",\r\n          padding: \"1rem\",\r\n          margin: \"2rem\",\r\n          borderRadius: \"1rem\",\r\n        }}\r\n      >\r\n        <form className=\"py-5\">\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"email\" className=\"form-label fw-bold\">\r\n              Email address\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              id=\"email\"\r\n              ref={emailRef}\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"password\" className=\"form-label fw-bold\">\r\n              Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              id=\"password\"\r\n              ref={passwordRef}\r\n            />\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div>\r\n              <Link to=\"/signup\">\r\n                <button\r\n                  style={{\r\n                    color: \"dodgerblue\",\r\n                    fontWeight: \"600\",\r\n                    borderStyle: \"none\",\r\n                    backgroundColor: \"#fff\",\r\n                  }}\r\n                >\r\n                  <u>Create Account</u>\r\n                </button>\r\n              </Link>\r\n              |\r\n              <Link to=\"/forgot-password\">\r\n                <button\r\n                  style={{\r\n                    color: \"#f76865\",\r\n                    fontWeight: \"600\",\r\n                    borderStyle: \"none\",\r\n                    backgroundColor: \"#fff\",\r\n                  }}\r\n                >\r\n                  <u>Forgot Password</u>\r\n                </button>\r\n              </Link>\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-success\"\r\n              onClick={loginDetails}\r\n            >\r\n              Login\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div>\r\n        {warning ? (\r\n          <p\r\n            className=\"d-flex justify-content-center alert alert-danger\"\r\n            role=\"alert\"\r\n          >\r\n            {warning}\r\n          </p>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n\r\n// await axios.post(`${url}`, user, {\r\n//   headers: {\r\n//     Authorization:\r\n//       \"Bearer \" + JSON.parse(localStorage.getItem(\"url_shortner_user\")).token,\r\n//   },\r\n// });\r\n","import axios from \"axios\";\r\nimport { useRef, useState } from \"react\";\r\n\r\n// const url = \"http://localhost:5000/api/v1/auth/register\";\r\nconst url = \"https://guvi-task-session-38.herokuapp.com/api/v1/auth/register\";\r\n\r\nfunction Register() {\r\n  const [success, setSuccess] = useState(false);\r\n  const [warning, setWarning] = useState(\"\");\r\n  const nameRef = useRef();\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n\r\n  const signupDetails = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (emailRef.current.value === \"\" || passwordRef.current.value === \"\") {\r\n      setWarning(\"Username, Email and password are mandatory!\");\r\n    } else {\r\n      setWarning(\"\");\r\n    }\r\n\r\n    const user = {\r\n      name: nameRef.current.value,\r\n      email: emailRef.current.value,\r\n      password: passwordRef.current.value,\r\n    };\r\n\r\n    try {\r\n      const response = await axios.post(`${url}`, user);\r\n\r\n      const localStorageObj = {\r\n        email: response.data.email,\r\n        token: response.data.token,\r\n        activated: response.data.activated,\r\n      };\r\n\r\n      localStorage.setItem(\r\n        \"url_shortner_user\",\r\n        JSON.stringify(localStorageObj)\r\n      );\r\n\r\n      setSuccess(true);\r\n    } catch (error) {\r\n      setWarning(\"User registration failed, try again some time later...\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container d-flex justify-content-center flex-column\">\r\n      <div\r\n        style={{\r\n          border: \"1px solid lightgray\",\r\n          padding: \"1rem\",\r\n          margin: \"2rem\",\r\n          borderRadius: \"1rem\",\r\n          boxSizing: \"border-box\",\r\n        }}\r\n      >\r\n        <form className=\"py-5\">\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"name\" className=\"form-label fw-bold\">\r\n              Username\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"name\"\r\n              ref={nameRef}\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"email\" className=\"form-label fw-bold\">\r\n              Email address\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              id=\"email\"\r\n              ref={emailRef}\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"password\" className=\"form-label fw-bold\">\r\n              Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              id=\"password\"\r\n              ref={passwordRef}\r\n            />\r\n          </div>\r\n          <div className=\"d-grid gap-2\">\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              type=\"button\"\r\n              onClick={signupDetails}\r\n            >\r\n              Register\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div>\r\n        {warning ? (\r\n          <p\r\n            className=\"d-flex justify-content-center alert alert-danger\"\r\n            role=\"alert\"\r\n          >\r\n            Username, Email and Password are mandatory!\r\n          </p>\r\n        ) : null}\r\n      </div>\r\n      <div>\r\n        {success ? (\r\n          <p\r\n            className=\"d-flex justify-content-center alert alert-success\"\r\n            role=\"alert\"\r\n          >\r\n            An email has been sent to {emailRef.current.value}, to confirm your\r\n            registration!\r\n          </p>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import axios from \"axios\";\r\nimport { useRef, useState } from \"react\";\r\n\r\n// const url = \"http://localhost:5000/api/v1/auth/forgot-password\";\r\nconst url = \"https://guvi-task-session-38.herokuapp.com/api/v1/auth/forgot-password\";\r\n\r\nfunction ForgotPassword() {\r\n  const [warning, setWarning] = useState(\"\");\r\n  const emailRef = useRef();\r\n\r\n  const forgotPasswordDetails = async (event) => {\r\n    setWarning(\"\");\r\n    event.preventDefault();\r\n\r\n    if (emailRef) {\r\n      if (emailRef.current.value === \"\") {\r\n        setWarning(\"Please enter an email id!\");\r\n        return;\r\n      }\r\n\r\n      try {\r\n        await axios.patch(`${url}`, {\r\n          email: emailRef.current.value,\r\n        });\r\n      } catch (error) {\r\n        setWarning(\"User does not exist...\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"container\"\r\n      style={{\r\n        border: \"1px solid lightgray\",\r\n        marginTop: \"2rem\",\r\n        borderRadius: \"1rem\",\r\n      }}\r\n    >\r\n      <form className=\"py-5\">\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"email\" className=\"form-label fw-bold\">\r\n            Email\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"email\"\r\n            ref={emailRef}\r\n            placeholder=\"Enter email to get password reset link\"\r\n          />\r\n        </div>\r\n        <div className=\"d-grid gap-2\">\r\n          <button\r\n            className=\"btn btn-warning\"\r\n            type=\"button\"\r\n            onClick={forgotPasswordDetails}\r\n            style={{ marginTop: \"1rem\" }}\r\n          >\r\n            Send Password Reset Link\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <div>\r\n        {warning ? (\r\n          <p\r\n            className=\"d-flex justify-content-center alert alert-danger\"\r\n            role=\"alert\"\r\n          >\r\n            {warning}\r\n          </p>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ForgotPassword;\r\n","import axios from \"axios\";\r\nimport { useRef, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\n// const url = \"http://localhost:5000/api/v1/auth/reset-password\";\r\nconst url = \"https://guvi-task-session-38.herokuapp.com/api/v1/auth/reset-password\";\r\n\r\nfunction ResetPassword() {\r\n  const params = useParams();\r\n  const [warning, setWarning] = useState(\"\");\r\n  const passwordRef = useRef();\r\n\r\n  const resetPassword = async (event) => {\r\n    setWarning(\"\");\r\n    event.preventDefault();\r\n\r\n    if (passwordRef) {\r\n      if (passwordRef.current.value === \"\") {\r\n        setWarning(\"Please enter a password!\");\r\n        return;\r\n      }\r\n\r\n      try {\r\n        await axios.patch(`${url}`, {\r\n          email: params.email,\r\n          password: passwordRef.current.value,\r\n        });\r\n      } catch (error) {\r\n        setWarning(\"User does not exist...\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"container\"\r\n      style={{\r\n        border: \"1px solid lightgray\",\r\n        marginTop: \"2rem\",\r\n        borderRadius: \"1rem\",\r\n      }}\r\n    >\r\n      <form className=\"py-5\">\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"password\" className=\"form-label fw-bold\">\r\n            Enter new password for \"{params.email}\"\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"password\"\r\n            ref={passwordRef}\r\n            placeholder=\"New password\"\r\n          />\r\n        </div>\r\n        <div className=\"d-grid gap-2\">\r\n          <button\r\n            className=\"btn btn-success\"\r\n            type=\"button\"\r\n            onClick={resetPassword}\r\n            style={{ marginTop: \"1rem\" }}\r\n          >\r\n            Reset Password\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <div>\r\n        {warning ? (\r\n          <p\r\n            className=\"d-flex justify-content-center alert alert-danger\"\r\n            role=\"alert\"\r\n          >\r\n            {warning}\r\n          </p>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ResetPassword;\r\n","import axios from \"axios\";\r\nimport { useRef, useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router\";\r\n\r\n// const url = \"http://localhost:5000/api/v1/url\";\r\nconst url = \"https://guvi-task-session-38.herokuapp.com/api/v1/url\";\r\n\r\nfunction Urls() {\r\n  const [urls, setUrls] = useState([]);\r\n  const [warning, setWarning] = useState(\"\");\r\n  const [updateInfo, setUpdateInfo] = useState(false);\r\n  const urlRef = useRef();\r\n\r\n  const [user, setUser] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const navigateToHome = () => navigate(\"/\", { replace: true });\r\n\r\n  /**\r\n   * @desc Display loggedin username\r\n   */\r\n  function getUserName() {\r\n    if (localStorage.getItem(\"url_shortner\")) {\r\n      const data = JSON.parse(localStorage.getItem(\"url_shortner\"));\r\n      setUser(data.name);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @desc Function to logout\r\n   */\r\n  function logOut() {\r\n    if (localStorage.getItem(\"url_shortner\")) {\r\n      localStorage.removeItem(\"url_shortner\");\r\n    }\r\n\r\n    navigateToHome();\r\n  }\r\n\r\n  useEffect(() => {\r\n    getUserName();\r\n  }, []);\r\n\r\n  /**\r\n   * @desc Takes long URL as input and create a short URL\r\n   */\r\n  async function createShortUrl() {\r\n    if (!localStorage.getItem(\"url_shortner\")) {\r\n      setWarning(\"Somethings not rigth, login again to use the URL shortner!\");\r\n    }\r\n\r\n    if (urlRef) {\r\n      if (urlRef.current.value === \"\") {\r\n        setWarning(\"Enter a valid URL!\");\r\n        return;\r\n      }\r\n\r\n      setWarning(\"\");\r\n\r\n      await axios.post(`${url}`, {\r\n        long: urlRef.current.value,\r\n      });\r\n\r\n      urlRef.current.value = \"\";\r\n      getUrlData();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get all the urls\r\n   */\r\n  async function getUrlData() {\r\n    const response = await axios.get(url);\r\n    const urls = response.data.urls;\r\n\r\n    if (urls.length < 1) {\r\n      setWarning(\"No Urls present in the database!\");\r\n      return;\r\n    }\r\n\r\n    setUrls(urls);\r\n  }\r\n\r\n  /**\r\n   * @desc Redirect using short URL\r\n   * @param {*} id\r\n   */\r\n  async function getUrl(id) {\r\n    setUpdateInfo(true);\r\n    axios.get(`${url}/${id}`);\r\n  }\r\n\r\n  /* Execute functions on render/re-render */\r\n  useEffect(() => {\r\n    getUrlData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getUrlData();\r\n  }, [updateInfo]);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"input-group mb-3 py-5\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          placeholder=\"Enter a long URL\"\r\n          ref={urlRef}\r\n        />\r\n        <button onClick={createShortUrl} className=\"input-group-text\">\r\n          Create Short URL\r\n        </button>\r\n      </div>\r\n      <table className=\"table table-striped\" style={{ textAlign: \"center\" }}>\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">Long URL</th>\r\n            <th scope=\"col\">Short URL</th>\r\n            <th scope=\"col\">Clicks</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {urls.map((url) => {\r\n            return (\r\n              <tr key={url._id}>\r\n                <td>{url.long}</td>\r\n                <td>\r\n                  <a href={url.long} onClick={() => getUrl(url.short)}>\r\n                    {url.short}\r\n                  </a>\r\n                </td>\r\n                <td>{url.clicks}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      <div>\r\n        {warning ? (\r\n          <p\r\n            className=\"d-flex justify-content-center alert alert-danger\"\r\n            role=\"alert\"\r\n          >\r\n            {warning}\r\n          </p>\r\n        ) : null}\r\n      </div>\r\n      <div className=\"footer\">\r\n        <div className=\"d-flex justify-content-around align-middle flex-wrap\">\r\n          <big><p className=\"fw-bold\">Hello <i>{user.split(\" \")[0]}</i> !</p></big>\r\n          <button className=\"btn btn-primary\" onClick={logOut}>\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Urls;\r\n","import Login from \"./components/Login\";\r\nimport { Route, Routes, BrowserRouter } from \"react-router-dom\";\r\nimport Register from \"./components/Register\";\r\nimport ForgotPassword from \"./components/ForgotPassword\";\r\nimport ResetPassword from \"./components/ResetPassword\";\r\nimport Urls from \"./components/Urls\";\r\nimport \"./components/Footer.css\";\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <div>\r\n        <nav\r\n          className=\"navbar navbar-dark bg-dark\"\r\n          style={{ backgroundColor: \"#e3f2fd\" }}\r\n        >\r\n          <div className=\"container-fluid\">\r\n            <span\r\n              style={{ margin: \"0 auto\", fontSize: \"2rem\" }}\r\n              className=\"navbar-text\"\r\n            >\r\n              <a href=\"/\" style={{ textDecoration: \"none\" }}>\r\n                URL Shortner\r\n                <span>\r\n                  <i className=\"bi bi-link-45deg\"></i>\r\n                </span>\r\n              </a>\r\n            </span>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n      <BrowserRouter>\r\n        <Routes>\r\n          <Route path=\"/\" element={<Login />}></Route>\r\n          <Route path=\"/urls\" element={<Urls />}></Route>\r\n          <Route path=\"/signup\" element={<Register />}></Route>\r\n          <Route path=\"/forgot-password\" element={<ForgotPassword />}></Route>\r\n          <Route\r\n            path=\"/reset-password/:email\"\r\n            element={<ResetPassword />}\r\n          ></Route>\r\n        </Routes>\r\n      </BrowserRouter>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import axios from \"axios\";\r\nimport React, { useContext, useState } from \"react\";\r\n\r\nconst getUrls = \"http://localhost:5000/api/v1/url\";\r\nconst AppContext = React.createContext();\r\n\r\nconst AppProvider = ({ children }) => {\r\n  const [urlData, setUrls] = useState([]);\r\n\r\n  async function getUrlData() {\r\n    const response = await axios.get(getUrls);\r\n    const urls = response.data.urls;\r\n    setUrls(urls);\r\n  }\r\n  React.useEffect(() => {\r\n    getUrlData();\r\n  }, []);\r\n\r\n  return <AppContext.Provider value={urlData}>{children}</AppContext.Provider>;\r\n};\r\n\r\nexport const useGlobalContext = () => {\r\n  return useContext(AppContext);\r\n};\r\n\r\nexport { AppContext, AppProvider };\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { AppProvider } from \"./context\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AppProvider>\r\n      <App />\r\n    </AppProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}